
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Toolbox for all things Python">
      
      
      
        <meta name="author" content="Brian McCrillis">
      
      
        <link rel="canonical" href="https://projects.brianmccrillis.com/etl/extract/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.4">
    
    
      
        <title>Extract - PyToolbox</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.db9e7362.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#etl-extract" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PyToolbox" class="md-header__button md-logo" aria-label="PyToolbox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyToolbox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extract
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/b-mc2/b-mc2.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    b-mc2/PyToolbox
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../data/eda/" class="md-tabs__link md-tabs__link--active">
        ToolBox
      </a>
    </li>
  

  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PyToolbox" class="md-nav__button md-logo" aria-label="PyToolbox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    PyToolbox
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/b-mc2/b-mc2.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    b-mc2/PyToolbox
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          ToolBox
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ToolBox" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          ToolBox
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_1" type="checkbox" id="__nav_2_1_1" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_1_1">
          Data Exploration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Exploration" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          Data Exploration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/eda/" class="md-nav__link">
        EDA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/binning/" class="md-nav__link">
        Binning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/sorting/" class="md-nav__link">
        Sorting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/data_scale/" class="md-nav__link">
        Data Scale
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_2" type="checkbox" id="__nav_2_1_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_1_2">
          ETL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ETL" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_2">
          <span class="md-nav__icon md-icon"></span>
          ETL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Extract
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Extract
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webpages-html" class="md-nav__link">
    Webpages (HTML)
  </a>
  
    <nav class="md-nav" aria-label="Webpages (HTML)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beautifulsoup" class="md-nav__link">
    BeautifulSoup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mechanicalsoup" class="md-nav__link">
    MechanicalSoup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-usage-of-mechanicalsoup-to-get-the-results-from-duckduckgo-import-mechanicalsoup-connect-to-duckduckgo-browser-mechanicalsoupstatefulbrowseruser_agentmechanicalsoup-need-to-use-the-non-js-version-of-ddg-since-python-cant-render-js-browseropenhttpshtmlduckduckgocomhtml-methods-available-to-browser-browserabsolute_url-browserget_cookiejar-browserlinks-browserput-browserset_user_agent-browseradd_soup-browserget_current_form-browserlist_links-browserraise_on_404-browserset_verbose-browserclose-browserget_current_page-browsernew_control-browserrefresh-browsersoup_config-browserdownload_link-browserget_debug-browseropen-browserrequest-browsersubmit-browserfind_link-browserget_request_kwargs-browseropen_fake_page-browserselect_form-browsersubmit_selected-browserfollow_link-browserget_url-browseropen_relative-browsersession-browserurl-browserform-browserget_verbose-browserpage-browserset_cookiejar-browserget-browserlaunch_browser-browserpost-browserset_debug-fill-in-the-search-form-browserselect_formsearch_form_homepage-this-will-open-a-browser-to-show-the-html-currently-selected-in-the-browser-object-browserlaunch_browser-browserq-mechanicalsoup-browsersubmit_selected-display-the-results-for-link-in-browserpageselectaresult__a-printlinktext-linkattrshref" class="md-nav__link">
    &quot;&quot;&quot;
Example usage of MechanicalSoup to get the results from DuckDuckGo.
&quot;&quot;&quot;
import mechanicalsoup


# Connect to duckduckgo
browser = mechanicalsoup.StatefulBrowser(user_agent=&quot;MechanicalSoup&quot;)
# Need to use the non JS version of DDG since Python can&#39;t render JS
browser.open(&quot;https://html.duckduckgo.com/html/&quot;)

# methods available to browser
# browser.absolute_url(        browser.get_cookiejar(       browser.links(               browser.put(                 browser.set_user_agent(
# browser.add_soup(            browser.get_current_form(    browser.list_links(          browser.raise_on_404         browser.set_verbose(
# browser.close(               browser.get_current_page(    browser.new_control(         browser.refresh(             browser.soup_config
# browser.download_link(       browser.get_debug(           browser.open(                browser.request(             browser.submit(
# browser.find_link(           browser.get_request_kwargs(  browser.open_fake_page(      browser.select_form(         browser.submit_selected(
# browser.follow_link(         browser.get_url(             browser.open_relative(       browser.session              browser.url
# browser.form                 browser.get_verbose(         browser.page(                browser.set_cookiejar(       
# browser.get(                 browser.launch_browser(      browser.post(                browser.set_debug(

# Fill-in the search form
browser.select_form(&#39;#search_form_homepage&#39;)

# this will open a browser to show the HTML currently selected in the browser object
browser.launch_browser()

browser[&quot;q&quot;] = &quot;MechanicalSoup&quot;
browser.submit_selected()

# Display the results
for link in browser.page.select(&#39;a.result__a&#39;):
    print(link.text, &#39;-&gt;&#39;, link.attrs[&#39;href&#39;])

  </a>
  
    <nav class="md-nav" aria-label="&quot;&quot;&quot;
Example usage of MechanicalSoup to get the results from DuckDuckGo.
&quot;&quot;&quot;
import mechanicalsoup


# Connect to duckduckgo
browser = mechanicalsoup.StatefulBrowser(user_agent=&quot;MechanicalSoup&quot;)
# Need to use the non JS version of DDG since Python can&#39;t render JS
browser.open(&quot;https://html.duckduckgo.com/html/&quot;)

# methods available to browser
# browser.absolute_url(        browser.get_cookiejar(       browser.links(               browser.put(                 browser.set_user_agent(
# browser.add_soup(            browser.get_current_form(    browser.list_links(          browser.raise_on_404         browser.set_verbose(
# browser.close(               browser.get_current_page(    browser.new_control(         browser.refresh(             browser.soup_config
# browser.download_link(       browser.get_debug(           browser.open(                browser.request(             browser.submit(
# browser.find_link(           browser.get_request_kwargs(  browser.open_fake_page(      browser.select_form(         browser.submit_selected(
# browser.follow_link(         browser.get_url(             browser.open_relative(       browser.session              browser.url
# browser.form                 browser.get_verbose(         browser.page(                browser.set_cookiejar(       
# browser.get(                 browser.launch_browser(      browser.post(                browser.set_debug(

# Fill-in the search form
browser.select_form(&#39;#search_form_homepage&#39;)

# this will open a browser to show the HTML currently selected in the browser object
browser.launch_browser()

browser[&quot;q&quot;] = &quot;MechanicalSoup&quot;
browser.submit_selected()

# Display the results
for link in browser.page.select(&#39;a.result__a&#39;):
    print(link.text, &#39;-&gt;&#39;, link.attrs[&#39;href&#39;])
">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#splinter" class="md-nav__link">
    Splinter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selenium" class="md-nav__link">
    Selenium
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas" class="md-nav__link">
    Pandas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apis" class="md-nav__link">
    APIs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#databases" class="md-nav__link">
    Databases
  </a>
  
    <nav class="md-nav" aria-label="Databases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sqlite3" class="md-nav__link">
    SQLite3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlalchemy" class="md-nav__link">
    SQLAlchemy
  </a>
  
    <nav class="md-nav" aria-label="SQLAlchemy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-tables" class="md-nav__link">
    Viewing Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-tables" class="md-nav__link">
    Querying Tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas_1" class="md-nav__link">
    Pandas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyspark" class="md-nav__link">
    PySpark
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flat-files" class="md-nav__link">
    Flat Files
  </a>
  
    <nav class="md-nav" aria-label="Flat Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas_2" class="md-nav__link">
    Pandas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../transform/" class="md-nav__link">
        Transform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../load/" class="md-nav__link">
        Load
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_3" type="checkbox" id="__nav_2_1_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_1_3">
          Data Formats
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Formats" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_3">
          <span class="md-nav__icon md-icon"></span>
          Data Formats
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/fileformats/" class="md-nav__link">
        Files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Scheduling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Scheduling" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Scheduling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../schedule/scheduling/" class="md-nav__link">
        Scheduling Tasks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../viz/viz/" class="md-nav__link">
        Viz
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bi/bi/" class="md-nav__link">
        BI
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_5">
          ML
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ML" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          ML
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/ml/" class="md-nav__link">
        Machine Learning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/cluster/" class="md-nav__link">
        Clustering
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlp/" class="md-nav__link">
        NLP
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" type="checkbox" id="__nav_2_7" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_7">
          Crypto
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Crypto" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          Crypto
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../crypto/encryption/" class="md-nav__link">
        Encryption
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../crypto/hashing/" class="md-nav__link">
        Hashing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../crypto/steganography/" class="md-nav__link">
        Steganography
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/blogs/" class="md-nav__link">
        Blogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/snippets/" class="md-nav__link">
        Snippets
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webpages-html" class="md-nav__link">
    Webpages (HTML)
  </a>
  
    <nav class="md-nav" aria-label="Webpages (HTML)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beautifulsoup" class="md-nav__link">
    BeautifulSoup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mechanicalsoup" class="md-nav__link">
    MechanicalSoup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-usage-of-mechanicalsoup-to-get-the-results-from-duckduckgo-import-mechanicalsoup-connect-to-duckduckgo-browser-mechanicalsoupstatefulbrowseruser_agentmechanicalsoup-need-to-use-the-non-js-version-of-ddg-since-python-cant-render-js-browseropenhttpshtmlduckduckgocomhtml-methods-available-to-browser-browserabsolute_url-browserget_cookiejar-browserlinks-browserput-browserset_user_agent-browseradd_soup-browserget_current_form-browserlist_links-browserraise_on_404-browserset_verbose-browserclose-browserget_current_page-browsernew_control-browserrefresh-browsersoup_config-browserdownload_link-browserget_debug-browseropen-browserrequest-browsersubmit-browserfind_link-browserget_request_kwargs-browseropen_fake_page-browserselect_form-browsersubmit_selected-browserfollow_link-browserget_url-browseropen_relative-browsersession-browserurl-browserform-browserget_verbose-browserpage-browserset_cookiejar-browserget-browserlaunch_browser-browserpost-browserset_debug-fill-in-the-search-form-browserselect_formsearch_form_homepage-this-will-open-a-browser-to-show-the-html-currently-selected-in-the-browser-object-browserlaunch_browser-browserq-mechanicalsoup-browsersubmit_selected-display-the-results-for-link-in-browserpageselectaresult__a-printlinktext-linkattrshref" class="md-nav__link">
    &quot;&quot;&quot;
Example usage of MechanicalSoup to get the results from DuckDuckGo.
&quot;&quot;&quot;
import mechanicalsoup


# Connect to duckduckgo
browser = mechanicalsoup.StatefulBrowser(user_agent=&quot;MechanicalSoup&quot;)
# Need to use the non JS version of DDG since Python can&#39;t render JS
browser.open(&quot;https://html.duckduckgo.com/html/&quot;)

# methods available to browser
# browser.absolute_url(        browser.get_cookiejar(       browser.links(               browser.put(                 browser.set_user_agent(
# browser.add_soup(            browser.get_current_form(    browser.list_links(          browser.raise_on_404         browser.set_verbose(
# browser.close(               browser.get_current_page(    browser.new_control(         browser.refresh(             browser.soup_config
# browser.download_link(       browser.get_debug(           browser.open(                browser.request(             browser.submit(
# browser.find_link(           browser.get_request_kwargs(  browser.open_fake_page(      browser.select_form(         browser.submit_selected(
# browser.follow_link(         browser.get_url(             browser.open_relative(       browser.session              browser.url
# browser.form                 browser.get_verbose(         browser.page(                browser.set_cookiejar(       
# browser.get(                 browser.launch_browser(      browser.post(                browser.set_debug(

# Fill-in the search form
browser.select_form(&#39;#search_form_homepage&#39;)

# this will open a browser to show the HTML currently selected in the browser object
browser.launch_browser()

browser[&quot;q&quot;] = &quot;MechanicalSoup&quot;
browser.submit_selected()

# Display the results
for link in browser.page.select(&#39;a.result__a&#39;):
    print(link.text, &#39;-&gt;&#39;, link.attrs[&#39;href&#39;])

  </a>
  
    <nav class="md-nav" aria-label="&quot;&quot;&quot;
Example usage of MechanicalSoup to get the results from DuckDuckGo.
&quot;&quot;&quot;
import mechanicalsoup


# Connect to duckduckgo
browser = mechanicalsoup.StatefulBrowser(user_agent=&quot;MechanicalSoup&quot;)
# Need to use the non JS version of DDG since Python can&#39;t render JS
browser.open(&quot;https://html.duckduckgo.com/html/&quot;)

# methods available to browser
# browser.absolute_url(        browser.get_cookiejar(       browser.links(               browser.put(                 browser.set_user_agent(
# browser.add_soup(            browser.get_current_form(    browser.list_links(          browser.raise_on_404         browser.set_verbose(
# browser.close(               browser.get_current_page(    browser.new_control(         browser.refresh(             browser.soup_config
# browser.download_link(       browser.get_debug(           browser.open(                browser.request(             browser.submit(
# browser.find_link(           browser.get_request_kwargs(  browser.open_fake_page(      browser.select_form(         browser.submit_selected(
# browser.follow_link(         browser.get_url(             browser.open_relative(       browser.session              browser.url
# browser.form                 browser.get_verbose(         browser.page(                browser.set_cookiejar(       
# browser.get(                 browser.launch_browser(      browser.post(                browser.set_debug(

# Fill-in the search form
browser.select_form(&#39;#search_form_homepage&#39;)

# this will open a browser to show the HTML currently selected in the browser object
browser.launch_browser()

browser[&quot;q&quot;] = &quot;MechanicalSoup&quot;
browser.submit_selected()

# Display the results
for link in browser.page.select(&#39;a.result__a&#39;):
    print(link.text, &#39;-&gt;&#39;, link.attrs[&#39;href&#39;])
">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#splinter" class="md-nav__link">
    Splinter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selenium" class="md-nav__link">
    Selenium
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas" class="md-nav__link">
    Pandas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apis" class="md-nav__link">
    APIs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#databases" class="md-nav__link">
    Databases
  </a>
  
    <nav class="md-nav" aria-label="Databases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sqlite3" class="md-nav__link">
    SQLite3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlalchemy" class="md-nav__link">
    SQLAlchemy
  </a>
  
    <nav class="md-nav" aria-label="SQLAlchemy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-tables" class="md-nav__link">
    Viewing Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-tables" class="md-nav__link">
    Querying Tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas_1" class="md-nav__link">
    Pandas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyspark" class="md-nav__link">
    PySpark
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flat-files" class="md-nav__link">
    Flat Files
  </a>
  
    <nav class="md-nav" aria-label="Flat Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pandas_2" class="md-nav__link">
    Pandas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="etl-extract">ETL (Extract)</h1>
<p>Extract Transform Load is the process whereby some data is obtained, (extracted) cleaned, wrangled (transformed), and placed into a user-friendly data structure like a data frame (loaded).</p>
<p>Extraction involves using some tool to pull data from a source, most commonly with API and webpages will involve using the <a href="../../web/webscraping/#Requests">Requests</a> package</p>
<hr />
<h2 id="webpages-html">Webpages (HTML)</h2>
<h3 id="beautifulsoup">BeautifulSoup</h3>
<p><a href="https://beautiful-soup-4.readthedocs.io/en/latest/">Documentation</a></p>
<p>Beautiful Soup is a Python library for pulling data out of HTML and XML files. It works with your favorite parser to provide idiomatic ways of navigating, searching, and modifying the parse tree. It commonly saves programmers hours or days of work.
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span> <span class="k">as</span> <span class="n">bs</span>

<span class="n">html_doc</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;html&gt;&lt;head&gt;&lt;title&gt;BeautifulSoup Demo&lt;/title&gt;&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">&lt;p class=&quot;title&quot;&gt;&lt;b&gt;BS4 Demo title&lt;/b&gt;&lt;/p&gt;</span>
<span class="s2">&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;</span>
<span class="s2">&lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">bs</span><span class="p">(</span><span class="n">html_doc</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
</code></pre></div>
When pulling from <code>Requests</code> you can use:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span> <span class="k">as</span> <span class="n">bs</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://some-url.com&quot;</span><span class="p">)</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">bs</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
</code></pre></div></p>
<hr />
<h3 id="mechanicalsoup">MechanicalSoup</h3>
<p><a href="https://mechanicalsoup.readthedocs.io/en/stable/">Documentation</a></p>
<p>A Python library for automating interaction with websites. MechanicalSoup automatically stores and sends cookies, follows redirects, and can follow links and submit forms. It doesn’t do Javascript.</p>
<h2 id="example-usage-of-mechanicalsoup-to-get-the-results-from-duckduckgo-import-mechanicalsoup-connect-to-duckduckgo-browser-mechanicalsoupstatefulbrowseruser_agentmechanicalsoup-need-to-use-the-non-js-version-of-ddg-since-python-cant-render-js-browseropenhttpshtmlduckduckgocomhtml-methods-available-to-browser-browserabsolute_url-browserget_cookiejar-browserlinks-browserput-browserset_user_agent-browseradd_soup-browserget_current_form-browserlist_links-browserraise_on_404-browserset_verbose-browserclose-browserget_current_page-browsernew_control-browserrefresh-browsersoup_config-browserdownload_link-browserget_debug-browseropen-browserrequest-browsersubmit-browserfind_link-browserget_request_kwargs-browseropen_fake_page-browserselect_form-browsersubmit_selected-browserfollow_link-browserget_url-browseropen_relative-browsersession-browserurl-browserform-browserget_verbose-browserpage-browserset_cookiejar-browserget-browserlaunch_browser-browserpost-browserset_debug-fill-in-the-search-form-browserselect_formsearch_form_homepage-this-will-open-a-browser-to-show-the-html-currently-selected-in-the-browser-object-browserlaunch_browser-browserq-mechanicalsoup-browsersubmit_selected-display-the-results-for-link-in-browserpageselectaresult__a-printlinktext-linkattrshref"><div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Example usage of MechanicalSoup to get the results from DuckDuckGo.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">mechanicalsoup</span>


<span class="c1"># Connect to duckduckgo</span>
<span class="n">browser</span> <span class="o">=</span> <span class="n">mechanicalsoup</span><span class="o">.</span><span class="n">StatefulBrowser</span><span class="p">(</span><span class="n">user_agent</span><span class="o">=</span><span class="s2">&quot;MechanicalSoup&quot;</span><span class="p">)</span>
<span class="c1"># Need to use the non JS version of DDG since Python can&#39;t render JS</span>
<span class="n">browser</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;https://html.duckduckgo.com/html/&quot;</span><span class="p">)</span>

<span class="c1"># methods available to browser</span>
<span class="c1"># browser.absolute_url(        browser.get_cookiejar(       browser.links(               browser.put(                 browser.set_user_agent(</span>
<span class="c1"># browser.add_soup(            browser.get_current_form(    browser.list_links(          browser.raise_on_404         browser.set_verbose(</span>
<span class="c1"># browser.close(               browser.get_current_page(    browser.new_control(         browser.refresh(             browser.soup_config</span>
<span class="c1"># browser.download_link(       browser.get_debug(           browser.open(                browser.request(             browser.submit(</span>
<span class="c1"># browser.find_link(           browser.get_request_kwargs(  browser.open_fake_page(      browser.select_form(         browser.submit_selected(</span>
<span class="c1"># browser.follow_link(         browser.get_url(             browser.open_relative(       browser.session              browser.url</span>
<span class="c1"># browser.form                 browser.get_verbose(         browser.page(                browser.set_cookiejar(       </span>
<span class="c1"># browser.get(                 browser.launch_browser(      browser.post(                browser.set_debug(</span>

<span class="c1"># Fill-in the search form</span>
<span class="n">browser</span><span class="o">.</span><span class="n">select_form</span><span class="p">(</span><span class="s1">&#39;#search_form_homepage&#39;</span><span class="p">)</span>

<span class="c1"># this will open a browser to show the HTML currently selected in the browser object</span>
<span class="n">browser</span><span class="o">.</span><span class="n">launch_browser</span><span class="p">()</span>

<span class="n">browser</span><span class="p">[</span><span class="s2">&quot;q&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;MechanicalSoup&quot;</span>
<span class="n">browser</span><span class="o">.</span><span class="n">submit_selected</span><span class="p">()</span>

<span class="c1"># Display the results</span>
<span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">browser</span><span class="o">.</span><span class="n">page</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;a.result__a&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">link</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">])</span>
</code></pre></div></h2>
<h3 id="splinter">Splinter</h3>
<p><a href="https://splinter.readthedocs.io/en/latest/">Documentation</a></p>
<p>Splinter is a Python framework that provides a simple and consistent interface for web application automation.
Splinter can use Selenium-based Drivers, chrome, fireFox, edge, or remote, the python bindings for Selenium 3 or Selenium 4 must be installed. 
It can also use Django and Flask based drivers.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">splinter</span> <span class="kn">import</span> <span class="n">Browser</span>


<span class="n">browser</span> <span class="o">=</span> <span class="n">Browser</span><span class="p">(</span><span class="s1">&#39;firefox&#39;</span><span class="p">)</span>
<span class="n">browser</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="s1">&#39;http://google.com&#39;</span><span class="p">)</span>
<span class="n">browser</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s1">&#39;splinter - python acceptance testing for web applications&#39;</span><span class="p">)</span>
<span class="n">browser</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="s1">&#39;btnK&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

<span class="k">if</span> <span class="n">browser</span><span class="o">.</span><span class="n">is_text_present</span><span class="p">(</span><span class="s1">&#39;splinter.readthedocs.io&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Yes, the official website was found!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No, it wasn&#39;t found... We need to improve our SEO techniques&quot;</span><span class="p">)</span>

<span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre></div>
You can easily execute JavaScript, in drivers which support it:
<div class="highlight"><pre><span></span><code><span class="n">browser</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">&quot;$(&#39;body&#39;).empty()&quot;</span><span class="p">)</span>
</code></pre></div>
You can return the result of the script:
<div class="highlight"><pre><span></span><code><span class="n">browser</span><span class="o">.</span><span class="n">evaluate_script</span><span class="p">(</span><span class="s2">&quot;4+4&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span>
</code></pre></div>
Some text input actions cannot be “typed” thru browser.fill(), like new lines and tab characters. Below is en example how to work around this using browser.execute_script(). This is also much faster than browser.fill() as there is no simulated key typing delay, making it suitable for longer texts.
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fast_fill_by_javascript</span><span class="p">(</span><span class="n">browser</span><span class="p">:</span> <span class="n">DriverAPI</span><span class="p">,</span> <span class="n">elem_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fill text field with copy-paste, not by typing key by key.</span>
<span class="sd">    Otherwise you cannot type enter or tab.</span>
<span class="sd">    :param id: CSS id of the textarea element to fill</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">t&quot;</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">n&quot;</span><span class="p">)</span>

    <span class="c1"># Construct a JavaScript snippet that is executed on the browser sdie</span>
    <span class="n">snippet</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;document.querySelector(&quot;#</span><span class="si">{</span><span class="n">elem_id</span><span class="si">}</span><span class="s2">&quot;).value = &quot;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;;&quot;&quot;&quot;</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="n">snippet</span><span class="p">)</span>
</code></pre></div></p>
<hr />
<h3 id="selenium">Selenium</h3>
<p><a href="https://selenium-python.readthedocs.io/">Documentation</a></p>
<p>Selenium Python bindings provides a simple API to write functional/acceptance tests using Selenium WebDriver. Through Selenium Python API you can access all functionalities of Selenium WebDriver in an intuitive way.</p>
<p><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>

<span class="c1"># The instance of Firefox WebDriver is created</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>

<span class="c1"># The driver.get method will navigate to a page given by the URL. </span>
<span class="c1"># WebDriver will wait until the page has fully loaded (the “onload” event has fired)</span>
<span class="c1"># before returning control to your test or script</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://www.python.org&quot;</span><span class="p">)</span>

<span class="c1"># assertion to confirm that title has “Python” word in it</span>
<span class="k">assert</span> <span class="s2">&quot;Python&quot;</span> <span class="ow">in</span> <span class="n">driver</span><span class="o">.</span><span class="n">title</span>

<span class="c1"># WebDriver offers a number of ways to find elements using one of the find_element_by_* methods.</span>
<span class="n">elem</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">)</span>

<span class="c1"># we’ll first clear any pre-populated text in the input field</span>
<span class="n">elem</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

<span class="c1"># we are sending keys, this is similar to entering keys using your keyboard</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;pycon&quot;</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">RETURN</span><span class="p">)</span>

<span class="c1"># ensure that some results are found, make an assertion</span>
<span class="k">assert</span> <span class="s2">&quot;No results found.&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">driver</span><span class="o">.</span><span class="n">page_source</span>

<span class="c1"># The driver.quit() will exit entire browser whereas drive.close() will close one tab</span>
<span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
Some additional WebDrivers for Selenium include the following:
<div class="highlight"><pre><span></span><code>webdriver.Firefox
webdriver.FirefoxProfile
webdriver.Chrome
webdriver.ChromeOptions
webdriver.Ie
webdriver.Opera
webdriver.PhantomJS
webdriver.Remote
webdriver.DesiredCapabilities
webdriver.ActionChains
webdriver.TouchActions
webdriver.Proxy
</code></pre></div>
To use without actually opening a window and save CPU use Chrome driver in <code>--headless</code> mode:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.chrome.options</span> <span class="kn">import</span> <span class="n">Options</span>

<span class="c1"># instantiate a chrome options object so you can set the size and headless preference</span>
<span class="n">chrome_options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--headless&quot;</span><span class="p">)</span>
</code></pre></div></p>
<hr />
<h3 id="pandas">Pandas</h3>
<p>Pandas can be used to extract HTML tables from webpages</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://example.com&quot;</span>
<span class="n">table_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># table_list will contain a list of pandas df&#39;s for each table on the page. </span>
<span class="c1"># if the page uses HTML tables for layout purposes and not necessarily for storing data</span>
<span class="c1"># it likely won&#39;t look good or be useful as is.</span>

<span class="c1"># it&#39;s also faster to grab the page with requests and parse with pandas afterwards</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">table_list</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="apis">APIs</h2>
<p>Most APIs accessible with an HTTP request can be accessed with Requests
<div class="highlight"><pre><span></span><code><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://api.example.com/somevalue&quot;</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="c1"># returns a response object</span>
<span class="c1"># The content from an API is most likely going to be JSON, check status code first</span>
<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="n">json_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="c1"># if you are pulling from a private API you can try using a unique useragent.</span>
<span class="n">useragent</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727)&#39;</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">useragent</span><span class="p">)</span>
</code></pre></div></p>
<hr />
<h2 id="databases">Databases</h2>
<h3 id="sqlite3">SQLite3</h3>
<p><a href="https://mechanicalsoup.readthedocs.io/en/stable/">Documentation</a></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;test_database&#39;</span><span class="p">)</span> 
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">          CREATE TABLE IF NOT EXISTS products</span>
<span class="s1">          ([product_id] INTEGER PRIMARY KEY, [product_name] TEXT, [price] INTEGER)</span>
<span class="s1">          &#39;&#39;&#39;</span><span class="p">)</span>

<span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">          INSERT INTO products (product_id, product_name, price)</span>

<span class="s1">                VALUES</span>
<span class="s1">                (1,&#39;Computer&#39;,800),</span>
<span class="s1">                (2,&#39;Printer&#39;,200),</span>
<span class="s1">                (3,&#39;Tablet&#39;,300),</span>
<span class="s1">                (4,&#39;Desk&#39;,450),</span>
<span class="s1">                (5,&#39;Chair&#39;,150)</span>
<span class="s1">          &#39;&#39;&#39;</span><span class="p">)</span>                     

<span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</code></pre></div>

<h3 id="sqlalchemy">SQLAlchemy</h3>
<p><a href="https://www.sqlalchemy.org/">Documentation</a></p>
<h4 id="viewing-tables">Viewing Tables</h4>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">db</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;sqlite:///census.sqlite&#39;</span><span class="p">)</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">MetaData</span><span class="p">()</span>
<span class="n">census</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;census&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">autoload</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoload_with</span><span class="o">=</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div>

<h4 id="querying-tables">Querying Tables</h4>
<p><div class="highlight"><pre><span></span><code><span class="c1">#Equivalent to &#39;SELECT * FROM census&#39;</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="n">census</span><span class="p">])</span>

<span class="c1"># ResultProxy: The object returned by the .execute() method. </span>
<span class="c1"># It can be used in a variety of ways to get the data returned by the query.</span>
<span class="n">ResultProxy</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># ResultSet: The actual data asked for in the query when using</span>
<span class="c1"># a fetch method such as .fetchall() on a ResultProxy.</span>
<span class="n">ResultSet</span> <span class="o">=</span> <span class="n">ResultProxy</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
</code></pre></div>
Additional Querying tutorial <a href="https://towardsdatascience.com/sqlalchemy-python-tutorial-79a577141a91">SQLAlchemy — Python Tutorial</a></p>
<h3 id="pandas_1">Pandas</h3>
<p><a href="https://pandas.pydata.org/docs/">Documentation</a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># import the modules</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>

<span class="c1"># SQLAlchemy connectable</span>
<span class="n">cnx</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;sqlite:///contacts.db&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>

<span class="c1"># table named &#39;contacts&#39; will be returned as a dataframe.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql_table</span><span class="p">(</span><span class="s1">&#39;contacts&#39;</span><span class="p">,</span> <span class="n">cnx</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

<h3 id="pyspark">PySpark</h3>
<p><a href="https://pandas.pydata.org/docs/">Documentation</a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># import the modules</span>
</code></pre></div>

<hr />
<h2 id="flat-files">Flat Files</h2>
<h3 id="python">Python</h3>
<p>Python has the ability to read many files when given a path. Using <code>with open</code> will close the file when the with statement closes.
More parameters on reading files can be found here <a href="" title="https://realpython.com/read-write-files-python/#opening-and-closing-a-file-in-python">Real Python Tutorial</a>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;dog_breeds.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
    <span class="c1"># Further file processing goes here</span>
    <span class="k">pass</span>
</code></pre></div>
additional parameters include:</p>
<table>
<thead>
<tr>
<th>Character</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>'r'</td>
<td>Open for reading (default)</td>
</tr>
<tr>
<td>'w'</td>
<td>Open for writing, truncating (overwriting) the file first</td>
</tr>
<tr>
<td>'rb' or wb'</td>
<td>Open in binary mode (read/write using byte data)</td>
</tr>
</tbody>
</table>
<h3 id="pandas_2">Pandas</h3>
<p><a href="https://pandas.pydata.org/docs/">Documentation</a></p>
<p>Pandas can read many types of flat files including <code>csv</code>, <code>parquet</code>, <code>xlsx</code>, <code>txt</code>, <code>pickle</code>, <code>clipboard</code>, <code>xml</code>, <code>html</code>, <code>json</code> and others.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Reading CSV</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;path/to/file.csv&quot;</span><span class="p">)</span>
<span class="c1"># Reading CSV Faster with Pyarrow in Pandas 1.4</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;large.csv&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;pyarrow&quot;</span><span class="p">)</span>

<span class="c1"># Reading Parquet file</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="s2">&quot;large.parquet&quot;</span><span class="p">)</span>
<span class="c1"># Reading Parquet file with faster parquet engine</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_parquet</span><span class="p">(</span><span class="s2">&quot;large.parquet&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;fastparquet&quot;</span><span class="p">)</span>

<span class="c1"># Reading Excel</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s2">&quot;path/to/file.xlsx&quot;</span><span class="p">)</span>
<span class="c1"># Reading Excel with multiple sheets</span>
<span class="n">xls</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="s1">&#39;path_to_file.xls&#39;</span><span class="p">)</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;Sheet1&#39;</span><span class="p">)</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xls</span><span class="p">,</span> <span class="s1">&#39;Sheet2&#39;</span><span class="p">)</span>

<span class="c1"># Reading JSON</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s2">&quot;path/to/file.json&quot;</span><span class="p">)</span>
<span class="c1"># nested JSON often leaves the df in an undesirable state</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">])</span>
<span class="c1"># this will flatten lists into columns</span>
<span class="n">df</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;col_of_lists&#39;</span><span class="p">)</span>

<span class="c1"># Reading JSONL</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s2">&quot;path/to/file.jsonl&quot;</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../data/data_scale/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Data Scale" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Data Scale
            </div>
          </div>
        </a>
      
      
        
        <a href="../transform/" class="md-footer__link md-footer__link--next" aria-label="Next: Transform" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Transform
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e84347e.min.js"></script>
      
    
  </body>
</html>